<div data-page="sign-in" data-content-width="standard" data-page-align="center" v-if="isReady">

  <md-dialog :md-active.sync="showRemoveConfirmation">
    <md-dialog-title>{{ t("app-reset-link-not-valid") }}</md-dialog-title>
    <md-dialog-content>
      <md-button class="md-primary" @click="newLink">{{ t("app-get-new-link") }}</md-button>
    </md-dialog-content>
    <md-dialog-actions>
      <md-button class="md-primary" @click="showRemoveConfirmation = false">{{ t("ok") }}</md-button>
    </md-dialog-actions>
  </md-dialog>

  <form class="standard-form-style" @submit.prevent="submit">

    <div class="page-header typography">
      <h1>{{ t("app-complete-registration") }}</h1>
    </div>

    <fieldset>
      <div class="ui-form-row col-2">
        <app-input v-model=firstName
                   type="text"
                   :label="t('app-first-name')"
                   required="required"
        />
        <app-input v-model=lastName
                   type="text"
                   :label="t('app-last-name')"
                   required="required"
        />
      </div>
      <div class="ui-form-row col-2">
        <app-input ref="passwordInput"
                   v-model=password
                   required="required"
                   type="password"
                   :label="t('app-password')"
                   @input="clearError"
        />
        <app-input ref="passwordConfirmInput"
                   v-model=confirmPassword
                   required="required"
                   type="password"
                   :label="t('app-password-confirm')"
                   @input="clearError"
        />
      </div>

      <div class="ui-form-row" id="terms-of-service-div">
        <div class="ui-checkbox-field ui-field ui-option-field">
          <div class="ui-option-field-wrapper">
            <input type="checkbox"
                   id="terms-of-service"
                   v-model="termsOfService"
                   required="required"
            >
            <div class="ui-checkbox-state-indicator ui-option-state-indicator">
              <svg viewBox="0 0 14 14"><path class="ui-checkbox-checkmark-path" fill="none" d="M1.01,7.53l3.72,3.72l8.57-8.5"/></svg>
            </div>
            <div class="ui-checkbox-secondary-indicator ui-option-secondary-indicator"></div>
          </div>
          <div class="ui-option-label">
            <label for="terms-of-service">{{t('app-i-have-read-and-agree-to-the')}}
              <a :href="t('app-footer-terms-of-use-link')" target="_blank">{{ t('app-footer-terms-of-use') }}</a>
            </label>
          </div>
        </div>
      </div>
    </fieldset>

    <div class="actions">
      <button type="submit" :data-disabled="termsOfServiceDisabled()">{{ t("app-continue") }}</button>
    </div>

  </form>
</div>
